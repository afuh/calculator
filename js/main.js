"use strict";var app=function(){var n=[],t=0,o=["/","*","-","+"],r=[],e=!1,i={prev:[],next:[],operator:"",total:0,operation:{"/":function(n,t){return n/t},"*":function(n,t){return n*t},"+":function(n,t){return n+t},"-":function(n,t){return n-t}}},a=function(n){var t=void 0,r=void 0,e=!1;if(!(n.length<=1))return n.map(function(n){var a="number"==typeof n||"."===n||"0."===n;!e&&o.indexOf(n)>=0?(i.operator=n,e=!0):e&&o.indexOf(n)>=0?(i.total=Math.round(100*i.operation[i.operator](t,r))/100,i.operator=n,i.prev=[i.total],i.next=[]):a&&!e?i.prev.push(n):a&&e&&i.next.push(n),t=parseFloat(i.prev.join("")),r=parseFloat(i.next.join("")),console.log("prev: "+t,"oper: "+i.operator,"next: "+r)}),i.total=Math.round(100*i.operation[i.operator](t,r))/100,i.total};$(document).on("click","button",function(){t=$(this).data("value");var u=$("#calculator"),f=u.find("#results"),c=u.find("#mini"),l={bigD:function(n){f.text(n)},minD:function(n){c.text(n)}},s=function(){n=[],e=!1,i.prev=[],i.next=[],i.operator="",l.bigD(0),l.minD(0)},d={toManyNumbers:function(){c.css("font-size","14px"),l.bigD("T_T"),l.minD("to many numbers")},cry:function(){l.bigD("T_T"),l.minD("")}},p=function(t){e=!1,void 0!==(r=a(t))&&(r.toString().length<=7?(n=[r],l.bigD(r)):(s(),d.toManyNumbers()),i.prev=[],i.next=[],i.operator="")};!function(a){var u=n.join("").substr(-1),f=o.indexOf(a)>-1,c=o.indexOf(u)>-1,m=o.indexOf(u)===-1;if(f?e=!0:"."===u&&(e=!1),!c||"="!==a)if(m&&"="===a)p(n);else if("C"===a)s();else if(0===n.length&&f)t="",d.cry();else{if(o.includes(u)&&f)return;if(0!==n.length&&!c||"."!==a){if(!e&&"."===a&&(i.total.toString().includes(".")||n.includes(".")||n.includes("0.")))return;if(0===n.length&&0===t)return;n.length>=15?(n=[],d.toManyNumbers()):(n=n.concat(a),r=n.join(""),l.minD(r))}else t="0.",n=n.concat(t),l.minD(n.join(""))}}(t)}),$(function(){var n=$("#calculator"),t=n.find("#results"),o=n.find("button");n.draggable(),t.fadeTo(200,.1,function(){$(this).fadeTo(820,1)}),o.click(function(){var n=Math.floor(256*Math.random()),t=Math.floor(256*Math.random()),o=Math.floor(256*Math.random()),r="rgb("+n+","+t+","+o+")";$("body").animate({backgroundColor:r},3e4)})})}();